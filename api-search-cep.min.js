Module("Search.CEP",function(i){i.fn.initialize=function(i,n){this.container=i,this.inputBairro=i.find(n.bairro),this.inputCEP=i.find(n.cep),this.inputCidade=i.find(n.cidade),this.inputLogradouro=i.find(n.logradouro),this.inputSiglaUF=i.find(n.siglauf),this.inputUF=i.find(n.uf),this.addEventListener()},i.fn.addEventListener=function(){this.inputCEP.on("focusout",this._onFocusOut.bind(this))},i.fn._isValidCEP=function(i){var n=/^[0-9]{2}[0-9]{3}[0-9]{3}$/;return i=jQuery.trim(i),i=i.replace(/[^0-9]/g,""),n.test(i)?!0:!1},i.fn._onFocusOut=function(){var i=this.inputCEP.val();this._isValidCEP(i)&&jQuery.ajax({url:"http://api.postmon.com.br/v1/cep/"+i}).then(this._onThenAPI.bind(this))},i.fn._onThenAPI=function(i){var n="undefined"!=typeof i.bairro?i.bairro:"",t="undefined"!=typeof i.cidade?i.cidade:"",o="undefined"!=typeof i.logradouro?i.logradouro:"",e="undefined"!=typeof i.estado?i.estado:"",d="undefined"!=typeof i.estado_info.nome?i.estado_info.nome:"";this.inputBairro.val(n),this.inputCidade.val(t),this.inputLogradouro.val(o),this.inputSiglaUF.val(e),this.inputUF.val(d)}});
